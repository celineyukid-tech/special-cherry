<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­¦å†’é™©å²› - å€æ•°ä¸å…¬çº¦æ•°å­¦ä¹ æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        #game-container {
            width: 100%;
            max-width: 800px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            position: relative;
        }
        
        .screen {
            display: none;
            padding: 30px;
            flex-direction: column;
            height: 100%;
            min-height: 500px;
        }
        
        .active-screen {
            display: flex;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #2575fc;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            color: #6a11cb;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        h3 {
            color: #2575fc;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2rem;
        }
        
        .content {
            flex-grow: 1;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .lesson-content {
            background-color: #f9f9ff;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #6a11cb;
            margin-bottom: 20px;
        }
        
        .example {
            background-color: #eef5ff;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .example-title {
            font-weight: bold;
            color: #2575fc;
        }
        
        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .btn {
            padding: 15px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 180px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
        }
        
        .btn-secondary {
            background-color: #f1f1f1;
            color: #333;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .question-container {
            background-color: #f9f9ff;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 2px dashed #6a11cb;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: bold;
            color: #333;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .option {
            padding: 15px;
            background-color: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
        }
        
        .option:hover {
            background-color: #eef5ff;
            border-color: #2575fc;
        }
        
        .option.selected {
            background-color: #d4edda;
            border-color: #28a745;
        }
        
        .option.correct {
            background-color: #d4edda;
            border-color: #28a745;
        }
        
        .option.wrong {
            background-color: #f8d7da;
            border-color: #dc3545;
        }
        
        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.wrong {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            background-color: #f1f1f1;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .level-info, .score-info {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .level-info span, .score-info span {
            color: #6a11cb;
        }
        
        .progress-container {
            height: 15px;
            background-color: #e9ecef;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .completion-screen {
            text-align: center;
        }
        
        .celebration {
            font-size: 4rem;
            margin: 20px 0;
        }
        
        .final-score {
            font-size: 2.5rem;
            color: #6a11cb;
            margin: 20px 0;
        }
        
        .character {
            font-size: 4rem;
            margin: 20px 0;
        }
        
        .hint {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #ffc107;
            font-size: 0.95rem;
            display: none;
        }
        
        .show-hint-btn {
            background-color: #ffc107;
            color: #333;
            padding: 8px 15px;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- å¼€å§‹å±å¹• -->
        <div id="start-screen" class="screen active-screen">
            <div class="header">
                <h1>æ•°å­¦å†’é™©å²›</h1>
                <p class="subtitle">å€æ•°ä¸å…¬çº¦æ•°å­¦ä¹ æ¸¸æˆ</p>
                <div class="character">ğŸ§®</div>
            </div>
            
            <div class="content">
                <p>æ¬¢è¿æ¥åˆ°æ•°å­¦å†’é™©å²›ï¼åœ¨è¿™é‡Œä½ å°†å­¦ä¹ ï¼š</p>
                <ul style="margin: 20px; padding-left: 20px;">
                    <li>ä»€ä¹ˆæ˜¯å€æ•°å’Œå› æ•°</li>
                    <li>å¦‚ä½•æ‰¾å‡ºä¸€ä¸ªæ•°çš„å€æ•°</li>
                    <li>ä»€ä¹ˆæ˜¯æœ€å°å…¬çº¦æ•°</li>
                    <li>å¦‚ä½•è®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å°å…¬çº¦æ•°</li>
                </ul>
                <p>å®Œæˆæ‰€æœ‰å…³å¡ï¼Œæˆä¸ºæ•°å­¦å°è¾¾äººï¼</p>
                
                <div class="lesson-content">
                    <p>æœ¬æ¸¸æˆä¸“ä¸ºäº”å¹´çº§å­¦ç”Ÿè®¾è®¡ï¼Œé€šè¿‡æœ‰è¶£çš„å…³å¡å¸®åŠ©æŒæ¡100ä»¥å†…çš„æ•°çš„å¸¸è§å€æ•°å…³ç³»ã€‚</p>
                    <p>æ¯ä¸ªå…³å¡å‰éƒ½æœ‰ç®€å•æ˜“æ‡‚çš„è®²è§£ï¼Œå¸®åŠ©ä½ ç†è§£æ¦‚å¿µã€‚</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-primary" id="start-game-btn">å¼€å§‹æ¸¸æˆ</button>
                <button class="btn btn-secondary" id="instructions-btn">æ¸¸æˆè¯´æ˜</button>
            </div>
        </div>
        
        <!-- è¯´æ˜å±å¹• -->
        <div id="instructions-screen" class="screen">
            <div class="header">
                <h2>æ¸¸æˆè¯´æ˜</h2>
            </div>
            
            <div class="content">
                <div class="lesson-content">
                    <h3>å¦‚ä½•ç©æ¸¸æˆ</h3>
                    <p>1. æ¸¸æˆå…±æœ‰4ä¸ªå…³å¡ï¼Œéš¾åº¦é€æ¸å¢åŠ </p>
                    <p>2. æ¯ä¸ªå…³å¡å‰ä¼šæœ‰çŸ¥è¯†ç‚¹è®²è§£</p>
                    <p>3. å›ç­”æ­£ç¡®çš„é—®é¢˜å¯ä»¥è·å¾—åˆ†æ•°</p>
                    <p>4. å¯ä»¥ä½¿ç”¨"æç¤º"æŒ‰é’®è·å¾—å¸®åŠ©</p>
                    <p>5. å®Œæˆæ‰€æœ‰å…³å¡åå¯ä»¥çœ‹åˆ°ä½ çš„å¾—åˆ†</p>
                </div>
                
                <div class="lesson-content">
                    <h3>å­¦ä¹ ç›®æ ‡</h3>
                    <p>âœ“ ç†è§£å€æ•°å’Œå› æ•°çš„æ¦‚å¿µ</p>
                    <p>âœ“ èƒ½å¤Ÿæ‰¾å‡º100ä»¥å†…æ•°çš„å€æ•°</p>
                    <p>âœ“ ç†è§£å…¬çº¦æ•°çš„æ¦‚å¿µ</p>
                    <p>âœ“ èƒ½å¤Ÿè®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å°å…¬çº¦æ•°</p>
                    <p>âœ“ ç†Ÿç»ƒæŒæ¡ä¹˜æ³•è¡¨ç›¸å…³å†…å®¹</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-primary" id="back-to-start-btn">è¿”å›ä¸»èœå•</button>
            </div>
        </div>
        
        <!-- æ•™å­¦å…³å¡1ï¼šå€æ•° -->
        <div id="lesson1-screen" class="screen">
            <div class="header">
                <h2>ç¬¬ä¸€è¯¾ï¼šè®¤è¯†å€æ•°</h2>
                <div class="progress-container">
                    <div class="progress-bar" id="progress1" style="width: 25%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="lesson-content">
                    <p><strong>å€æ•°çš„å®šä¹‰ï¼š</strong>å¦‚æœä¸€ä¸ªæ•°èƒ½è¢«å¦ä¸€ä¸ªæ•°æ•´é™¤ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¦ä¸€ä¸ªæ•°çš„å€æ•°ã€‚</p>
                    
                    <div class="example">
                        <p class="example-title">ä¾‹å­ï¼š</p>
                        <p>12 Ã· 3 = 4ï¼Œæ²¡æœ‰ä½™æ•°ï¼Œæ‰€ä»¥12æ˜¯3çš„å€æ•°ã€‚</p>
                        <p>åŒæ ·ï¼Œ12 Ã· 4 = 3ï¼Œæ²¡æœ‰ä½™æ•°ï¼Œæ‰€ä»¥12ä¹Ÿæ˜¯4çš„å€æ•°ã€‚</p>
                    </div>
                    
                    <p>æˆ‘ä»¬å¯ä»¥ç”¨ä¹˜æ³•æ¥æ‰¾å‡ºä¸€ä¸ªæ•°çš„å€æ•°ï¼š</p>
                    
                    <div class="example">
                        <p class="example-title">æ‰¾å‡º5çš„å€æ•°ï¼š</p>
                        <p>5 Ã— 1 = 5ï¼Œæ‰€ä»¥5æ˜¯5çš„å€æ•°</p>
                        <p>5 Ã— 2 = 10ï¼Œæ‰€ä»¥10æ˜¯5çš„å€æ•°</p>
                        <p>5 Ã— 3 = 15ï¼Œæ‰€ä»¥15æ˜¯5çš„å€æ•°</p>
                        <p>5 Ã— 4 = 20ï¼Œæ‰€ä»¥20æ˜¯5çš„å€æ•°</p>
                        <p>5ã€10ã€15ã€20â€¦â€¦è¿™äº›éƒ½æ˜¯5çš„å€æ•°</p>
                    </div>
                    
                    <p>åœ¨æ¥ä¸‹æ¥çš„ç»ƒä¹ ä¸­ï¼Œä½ ä¼šç»ƒä¹ æ‰¾å‡º100ä»¥å†…æ•°çš„å€æ•°ã€‚</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-from-lesson1-btn">è¿”å›</button>
                <button class="btn btn-primary" id="start-level1-btn">å¼€å§‹ç»ƒä¹ </button>
            </div>
        </div>
        
        <!-- å…³å¡1ï¼šå€æ•°ç»ƒä¹  -->
        <div id="level1-screen" class="screen">
            <div class="header">
                <h2>ç¬¬ä¸€å…³ï¼šå€æ•°ç»ƒä¹ </h2>
                <div class="game-info">
                    <div class="level-info">å…³å¡: <span>1/4</span></div>
                    <div class="score-info">åˆ†æ•°: <span id="score1">0</span></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="level1-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-text" id="question1-text">ä¸‹é¢å“ªä¸ªæ•°æ˜¯8çš„å€æ•°ï¼Ÿ</div>
                    
                    <div class="options-container" id="options1-container">
                        <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="feedback" id="feedback1"></div>
                    
                    <div class="hint" id="hint1">
                        æç¤ºï¼š8çš„å€æ•°å¯ä»¥é€šè¿‡8Ã—1=8ï¼Œ8Ã—2=16ï¼Œ8Ã—3=24...æ¥è®¡ç®—ã€‚æ‰€ä»¥8çš„å€æ•°æœ‰8, 16, 24, 32, 40...
                    </div>
                    
                    <button class="btn show-hint-btn" id="show-hint1-btn">æ˜¾ç¤ºæç¤º</button>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-lesson1-btn">è¿”å›æ•™å­¦</button>
                <button class="btn btn-primary" id="check-answer1-btn">æ£€æŸ¥ç­”æ¡ˆ</button>
                <button class="btn btn-primary" id="next-question1-btn" style="display:none">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- æ•™å­¦å…³å¡2ï¼šå› æ•° -->
        <div id="lesson2-screen" class="screen">
            <div class="header">
                <h2>ç¬¬äºŒè¯¾ï¼šè®¤è¯†å› æ•°</h2>
                <div class="progress-container">
                    <div class="progress-bar" id="progress2" style="width: 50%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="lesson-content">
                    <p><strong>å› æ•°çš„å®šä¹‰ï¼š</strong>å¦‚æœä¸€ä¸ªæ•°èƒ½è¢«å¦ä¸€ä¸ªæ•°æ•´é™¤ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæ•°å°±æ˜¯è¿™ä¸ªæ•°çš„å› æ•°ã€‚</p>
                    
                    <div class="example">
                        <p class="example-title">ä¾‹å­ï¼š</p>
                        <p>12 Ã· 3 = 4ï¼Œæ²¡æœ‰ä½™æ•°ï¼Œæ‰€ä»¥3æ˜¯12çš„å› æ•°ã€‚</p>
                        <p>åŒæ ·ï¼Œ12 Ã· 4 = 3ï¼Œæ²¡æœ‰ä½™æ•°ï¼Œæ‰€ä»¥4ä¹Ÿæ˜¯12çš„å› æ•°ã€‚</p>
                    </div>
                    
                    <p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é™¤æ³•æ¥æ‰¾å‡ºä¸€ä¸ªæ•°çš„æ‰€æœ‰å› æ•°ï¼š</p>
                    
                    <div class="example">
                        <p class="example-title">æ‰¾å‡º18çš„æ‰€æœ‰å› æ•°ï¼š</p>
                        <p>18 Ã· 1 = 18ï¼Œæ‰€ä»¥1å’Œ18éƒ½æ˜¯18çš„å› æ•°</p>
                        <p>18 Ã· 2 = 9ï¼Œæ‰€ä»¥2å’Œ9éƒ½æ˜¯18çš„å› æ•°</p>
                        <p>18 Ã· 3 = 6ï¼Œæ‰€ä»¥3å’Œ6éƒ½æ˜¯18çš„å› æ•°</p>
                        <p>18çš„å› æ•°æœ‰ï¼š1, 2, 3, 6, 9, 18</p>
                    </div>
                    
                    <p>åœ¨æ¥ä¸‹æ¥çš„ç»ƒä¹ ä¸­ï¼Œä½ ä¼šç»ƒä¹ æ‰¾å‡º100ä»¥å†…æ•°çš„å› æ•°ã€‚</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-level1-btn">è¿”å›ä¸Šä¸€å…³</button>
                <button class="btn btn-primary" id="start-level2-btn">å¼€å§‹ç»ƒä¹ </button>
            </div>
        </div>
        
        <!-- å…³å¡2ï¼šå› æ•°ç»ƒä¹  -->
        <div id="level2-screen" class="screen">
            <div class="header">
                <h2>ç¬¬äºŒå…³ï¼šå› æ•°ç»ƒä¹ </h2>
                <div class="game-info">
                    <div class="level-info">å…³å¡: <span>2/4</span></div>
                    <div class="score-info">åˆ†æ•°: <span id="score2">0</span></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="level2-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-text" id="question2-text">ä¸‹é¢å“ªä¸ªæ•°æ˜¯24çš„å› æ•°ï¼Ÿ</div>
                    
                    <div class="options-container" id="options2-container">
                        <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="feedback" id="feedback2"></div>
                    
                    <div class="hint" id="hint2">
                        æç¤ºï¼š24çš„å› æ•°æ˜¯å¯ä»¥æ•´é™¤24çš„æ•°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡24Ã·1=24ï¼Œ24Ã·2=12ï¼Œ24Ã·3=8ï¼Œ24Ã·4=6æ¥è®¡ç®—ã€‚æ‰€ä»¥24çš„å› æ•°æœ‰1, 2, 3, 4, 6, 8, 12, 24ã€‚
                    </div>
                    
                    <button class="btn show-hint-btn" id="show-hint2-btn">æ˜¾ç¤ºæç¤º</button>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-lesson2-btn">è¿”å›æ•™å­¦</button>
                <button class="btn btn-primary" id="check-answer2-btn">æ£€æŸ¥ç­”æ¡ˆ</button>
                <button class="btn btn-primary" id="next-question2-btn" style="display:none">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- æ•™å­¦å…³å¡3ï¼šæœ€å°å…¬çº¦æ•° -->
        <div id="lesson3-screen" class="screen">
            <div class="header">
                <h2>ç¬¬ä¸‰è¯¾ï¼šè®¤è¯†æœ€å°å…¬çº¦æ•°</h2>
                <div class="progress-container">
                    <div class="progress-bar" id="progress3" style="width: 75%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="lesson-content">
                    <p><strong>å…¬çº¦æ•°çš„å®šä¹‰ï¼š</strong>ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°å…¬æœ‰çš„å› æ•°å«åšè¿™å‡ ä¸ªæ•°çš„å…¬çº¦æ•°ã€‚</p>
                    
                    <div class="example">
                        <p class="example-title">ä¾‹å­ï¼š</p>
                        <p>12çš„å› æ•°æœ‰ï¼š1, 2, 3, 4, 6, 12</p>
                        <p>18çš„å› æ•°æœ‰ï¼š1, 2, 3, 6, 9, 18</p>
                        <p>12å’Œ18å…¬æœ‰çš„å› æ•°æœ‰ï¼š1, 2, 3, 6</p>
                        <p>æ‰€ä»¥12å’Œ18çš„å…¬çº¦æ•°æ˜¯1, 2, 3, 6</p>
                    </div>
                    
                    <p><strong>æœ€å°å…¬çº¦æ•°çš„å®šä¹‰ï¼š</strong>ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°çš„å…¬çº¦æ•°ä¸­æœ€å°çš„ä¸€ä¸ªï¼ˆé™¤äº†1ä»¥å¤–ï¼‰ã€‚</p>
                    
                    <div class="example">
                        <p class="example-title">æ‰¾å‡º8å’Œ12çš„æœ€å°å…¬çº¦æ•°ï¼š</p>
                        <p>8çš„å› æ•°æœ‰ï¼š1, 2, 4, 8</p>
                        <p>12çš„å› æ•°æœ‰ï¼š1, 2, 3, 4, 6, 12</p>
                        <p>8å’Œ12å…¬æœ‰çš„å› æ•°æœ‰ï¼š1, 2, 4</p>
                        <p>æœ€å°çš„å…¬çº¦æ•°ï¼ˆé™¤äº†1ä»¥å¤–ï¼‰æ˜¯2</p>
                        <p>æ‰€ä»¥8å’Œ12çš„æœ€å°å…¬çº¦æ•°æ˜¯2</p>
                    </div>
                    
                    <p>åœ¨æ¥ä¸‹æ¥çš„ç»ƒä¹ ä¸­ï¼Œä½ ä¼šç»ƒä¹ æ‰¾å‡ºä¸¤ä¸ªæ•°çš„æœ€å°å…¬çº¦æ•°ã€‚</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-level2-btn">è¿”å›ä¸Šä¸€å…³</button>
                <button class="btn btn-primary" id="start-level3-btn">å¼€å§‹ç»ƒä¹ </button>
            </div>
        </div>
        
        <!-- å…³å¡3ï¼šæœ€å°å…¬çº¦æ•°ç»ƒä¹  -->
        <div id="level3-screen" class="screen">
            <div class="header">
                <h2>ç¬¬ä¸‰å…³ï¼šæœ€å°å…¬çº¦æ•°ç»ƒä¹ </h2>
                <div class="game-info">
                    <div class="level-info">å…³å¡: <span>3/4</span></div>
                    <div class="score-info">åˆ†æ•°: <span id="score3">0</span></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="level3-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-text" id="question3-text">12å’Œ18çš„æœ€å°å…¬çº¦æ•°æ˜¯å¤šå°‘ï¼Ÿ</div>
                    
                    <div class="options-container" id="options3-container">
                        <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="feedback" id="feedback3"></div>
                    
                    <div class="hint" id="hint3">
                        æç¤ºï¼šå…ˆæ‰¾å‡º12çš„å› æ•°ï¼š1, 2, 3, 4, 6, 12ã€‚å†æ‰¾å‡º18çš„å› æ•°ï¼š1, 2, 3, 6, 9, 18ã€‚ä¸¤ä¸ªæ•°å…¬æœ‰çš„å› æ•°æœ‰ï¼š1, 2, 3, 6ã€‚æœ€å°çš„å…¬çº¦æ•°ï¼ˆé™¤äº†1ä»¥å¤–ï¼‰æ˜¯2ã€‚
                    </div>
                    
                    <button class="btn show-hint-btn" id="show-hint3-btn">æ˜¾ç¤ºæç¤º</button>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-lesson3-btn">è¿”å›æ•™å­¦</button>
                <button class="btn btn-primary" id="check-answer3-btn">æ£€æŸ¥ç­”æ¡ˆ</button>
                <button class="btn btn-primary" id="next-question3-btn" style="display:none">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- å…³å¡4ï¼šç»¼åˆæŒ‘æˆ˜ -->
        <div id="level4-screen" class="screen">
            <div class="header">
                <h2>ç¬¬å››å…³ï¼šç»¼åˆæŒ‘æˆ˜</h2>
                <div class="game-info">
                    <div class="level-info">å…³å¡: <span>4/4</span></div>
                    <div class="score-info">åˆ†æ•°: <span id="score4">0</span></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="level4-progress" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="content">
                <div class="question-container">
                    <div class="question-text" id="question4-text">ä¸‹é¢å“ªä¸ªæ•°æ˜¯15çš„å€æ•°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯20çš„å› æ•°ï¼Ÿ</div>
                    
                    <div class="options-container" id="options4-container">
                        <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="feedback" id="feedback4"></div>
                    
                    <div class="hint" id="hint4">
                        æç¤ºï¼šå…ˆæ‰¾å‡º15çš„å€æ•°ï¼ˆ15, 30, 45, 60...ï¼‰ï¼Œå†æ‰¾å‡º20çš„å› æ•°ï¼ˆ1, 2, 4, 5, 10, 20ï¼‰ã€‚çœ‹çœ‹å“ªä¸ªæ•°æ—¢æ˜¯15çš„å€æ•°åˆæ˜¯20çš„å› æ•°ã€‚
                    </div>
                    
                    <button class="btn show-hint-btn" id="show-hint4-btn">æ˜¾ç¤ºæç¤º</button>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-level3-btn">è¿”å›ä¸Šä¸€å…³</button>
                <button class="btn btn-primary" id="check-answer4-btn">æ£€æŸ¥ç­”æ¡ˆ</button>
                <button class="btn btn-primary" id="next-question4-btn" style="display:none">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- å®Œæˆå±å¹• -->
        <div id="completion-screen" class="screen">
            <div class="header">
                <h2>æ­å–œå®Œæˆæ‰€æœ‰å…³å¡ï¼</h2>
                <div class="character">ğŸ†</div>
                <div class="celebration">ğŸ‰</div>
            </div>
            
            <div class="content completion-screen">
                <div class="final-score" id="final-score">ä½ çš„å¾—åˆ†: 0/100</div>
                
                <div class="lesson-content" style="text-align: left;">
                    <p>ä½ å·²æˆåŠŸå®Œæˆæ•°å­¦å†’é™©å²›çš„æ‰€æœ‰æŒ‘æˆ˜ï¼</p>
                    <p>é€šè¿‡è¿™ä¸ªæ¸¸æˆï¼Œä½ å·²ç»æŒæ¡äº†ï¼š</p>
                    <ul style="margin: 20px; padding-left: 20px;">
                        <li>å€æ•°çš„æ¦‚å¿µå’Œå¦‚ä½•æ‰¾å‡ºå€æ•°</li>
                        <li>å› æ•°çš„æ¦‚å¿µå’Œå¦‚ä½•æ‰¾å‡ºå› æ•°</li>
                        <li>å…¬çº¦æ•°å’Œæœ€å°å…¬çº¦æ•°çš„æ¦‚å¿µå’Œè®¡ç®—æ–¹æ³•</li>
                        <li>100ä»¥å†…æ•°çš„å¸¸è§å€æ•°å…³ç³»</li>
                    </ul>
                    <p>ç»§ç»­ç»ƒä¹ ï¼Œä½ ä¼šæˆä¸ºæ•°å­¦å°è¾¾äººï¼</p>
                </div>
            </div>
            
            <div class="buttons-container">
                <button class="btn btn-secondary" id="back-to-level4-btn">è¿”å›ä¸Šä¸€å…³</button>
                <button class="btn btn-primary" id="restart-game-btn">é‡æ–°å¼€å§‹æ¸¸æˆ</button>
            </div>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        const gameState = {
            currentLevel: 1,
            currentQuestion: 0,
            scores: [0, 0, 0, 0], // æ¯ä¸ªå…³å¡çš„åˆ†æ•°
            questions: [
                // å…³å¡1: å€æ•°
                [
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯6çš„å€æ•°ï¼Ÿ",
                        options: ["14", "18", "22", "26", "30", "34"],
                        correct: [1, 4], // 18å’Œ30æ˜¯6çš„å€æ•°
                        type: "multiple"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯9çš„å€æ•°ï¼Ÿ",
                        options: ["27", "36", "45", "54", "63", "70"],
                        correct: [0, 1, 2, 3, 4], // 27,36,45,54,63æ˜¯9çš„å€æ•°
                        type: "multiple"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯7çš„å€æ•°ï¼Ÿ",
                        options: ["21", "28", "35", "42", "49", "56"],
                        correct: [0, 1, 2, 3, 4, 5], // å…¨éƒ¨éƒ½æ˜¯7çš„å€æ•°
                        type: "multiple"
                    }
                ],
                // å…³å¡2: å› æ•°
                [
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯36çš„å› æ•°ï¼Ÿ",
                        options: ["4", "5", "6", "7", "8", "9"],
                        correct: [0, 2, 5], // 4,6,9æ˜¯36çš„å› æ•°
                        type: "multiple"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯48çš„å› æ•°ï¼Ÿ",
                        options: ["3", "6", "8", "12", "16", "24"],
                        correct: [0, 1, 2, 3, 4, 5], // å…¨éƒ¨éƒ½æ˜¯48çš„å› æ•°
                        type: "multiple"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯60çš„å› æ•°ï¼Ÿ",
                        options: ["5", "10", "15", "20", "25", "30"],
                        correct: [0, 1, 2, 3], // 5,10,15,20æ˜¯60çš„å› æ•°
                        type: "multiple"
                    }
                ],
                // å…³å¡3: æœ€å°å…¬çº¦æ•°
                [
                    {
                        question: "8å’Œ12çš„æœ€å°å…¬çº¦æ•°æ˜¯å¤šå°‘ï¼Ÿ",
                        options: ["1", "2", "3", "4", "6", "8"],
                        correct: [1], // 2
                        type: "single"
                    },
                    {
                        question: "9å’Œ15çš„æœ€å°å…¬çº¦æ•°æ˜¯å¤šå°‘ï¼Ÿ",
                        options: ["1", "3", "5", "9", "15", "45"],
                        correct: [1], // 3
                        type: "single"
                    },
                    {
                        question: "16å’Œ24çš„æœ€å°å…¬çº¦æ•°æ˜¯å¤šå°‘ï¼Ÿ",
                        options: ["1", "2", "4", "8", "16", "24"],
                        correct: [3], // 8
                        type: "single"
                    }
                ],
                // å…³å¡4: ç»¼åˆæŒ‘æˆ˜
                [
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯15çš„å€æ•°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯20çš„å› æ•°ï¼Ÿ",
                        options: ["5", "10", "15", "30", "60", "100"],
                        correct: [0], // 5
                        type: "single"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ—¢æ˜¯8çš„å€æ•°ï¼Œåˆæ˜¯12çš„å› æ•°ï¼Ÿ",
                        options: ["4", "8", "12", "16", "24", "48"],
                        correct: [2], // 12
                        type: "single"
                    },
                    {
                        question: "ä¸‹é¢å“ªä¸ªæ•°æ˜¯3å’Œ5çš„å…¬å€æ•°ï¼Œä¸”å°äº50ï¼Ÿ",
                        options: ["15", "30", "45", "10", "25", "40"],
                        correct: [0, 1, 2], // 15,30,45
                        type: "multiple"
                    }
                ]
            ],
            selectedOptions: []
        };

        // éŸ³é¢‘å…ƒç´ 
        let correctSound, wrongSound, clickSound;

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            // åˆ›å»ºéŸ³é¢‘å…ƒç´ 
            correctSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3');
            wrongSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3');
            clickSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3');
            
            // è®¾ç½®æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨
            setupEventListeners();
            
            // åˆå§‹åŒ–ç¬¬ä¸€å…³çš„é—®é¢˜
            loadQuestion(1, 0);
        }

        // è®¾ç½®æ‰€æœ‰æŒ‰é’®çš„äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // å¼€å§‹å±å¹•æŒ‰é’®
            document.getElementById('start-game-btn').addEventListener('click', startGame);
            document.getElementById('instructions-btn').addEventListener('click', showInstructions);
            
            // è¯´æ˜å±å¹•æŒ‰é’®
            document.getElementById('back-to-start-btn').addEventListener('click', showStartScreen);
            
            // æ•™å­¦å…³å¡1æŒ‰é’®
            document.getElementById('back-from-lesson1-btn').addEventListener('click', showStartScreen);
            document.getElementById('start-level1-btn').addEventListener('click', () => startLevel(1));
            
            // å…³å¡1æŒ‰é’®
            document.getElementById('back-to-lesson1-btn').addEventListener('click', () => showLesson(1));
            document.getElementById('check-answer1-btn').addEventListener('click', () => checkAnswer(1));
            document.getElementById('next-question1-btn').addEventListener('click', () => nextQuestion(1));
            document.getElementById('show-hint1-btn').addEventListener('click', () => toggleHint(1));
            
            // æ•™å­¦å…³å¡2æŒ‰é’®
            document.getElementById('back-to-level1-btn').addEventListener('click', () => showLevel(1));
            document.getElementById('start-level2-btn').addEventListener('click', () => startLevel(2));
            
            // å…³å¡2æŒ‰é’®
            document.getElementById('back-to-lesson2-btn').addEventListener('click', () => showLesson(2));
            document.getElementById('check-answer2-btn').addEventListener('click', () => checkAnswer(2));
            document.getElementById('next-question2-btn').addEventListener('click', () => nextQuestion(2));
            document.getElementById('show-hint2-btn').addEventListener('click', () => toggleHint(2));
            
            // æ•™å­¦å…³å¡3æŒ‰é’®
            document.getElementById('back-to-level2-btn').addEventListener('click', () => showLevel(2));
            document.getElementById('start-level3-btn').addEventListener('click', () => startLevel(3));
            
            // å…³å¡3æŒ‰é’®
            document.getElementById('back-to-lesson3-btn').addEventListener('click', () => showLesson(3));
            document.getElementById('check-answer3-btn').addEventListener('click', () => checkAnswer(3));
            document.getElementById('next-question3-btn').addEventListener('click', () => nextQuestion(3));
            document.getElementById('show-hint3-btn').addEventListener('click', () => toggleHint(3));
            
            // å…³å¡4æŒ‰é’®
            document.getElementById('back-to-level3-btn').addEventListener('click', () => showLevel(3));
            document.getElementById('check-answer4-btn').addEventListener('click', () => checkAnswer(4));
            document.getElementById('next-question4-btn').addEventListener('click', () => nextQuestion(4));
            document.getElementById('show-hint4-btn').addEventListener('click', () => toggleHint(4));
            
            // å®Œæˆå±å¹•æŒ‰é’®
            document.getElementById('back-to-level4-btn').addEventListener('click', () => showLevel(4));
            document.getElementById('restart-game-btn').addEventListener('click', restartGame);
        }

        // æ’­æ”¾éŸ³æ•ˆ
        function playSound(sound) {
            sound.currentTime = 0;
            sound.play().catch(e => console.log("éŸ³æ•ˆæ’­æ”¾å¤±è´¥:", e));
        }

        // æ˜¾ç¤ºå¼€å§‹å±å¹•
        function showStartScreen() {
            hideAllScreens();
            document.getElementById('start-screen').classList.add('active-screen');
            playSound(clickSound);
        }

        // æ˜¾ç¤ºæ¸¸æˆè¯´æ˜
        function showInstructions() {
            hideAllScreens();
            document.getElementById('instructions-screen').classList.add('active-screen');
            playSound(clickSound);
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            showLesson(1);
            playSound(clickSound);
        }

        // æ˜¾ç¤ºæ•™å­¦å…³å¡
        function showLesson(lessonNumber) {
            hideAllScreens();
            document.getElementById(`lesson${lessonNumber}-screen`).classList.add('active-screen');
            playSound(clickSound);
        }

        // æ˜¾ç¤ºå…³å¡
        function showLevel(levelNumber) {
            hideAllScreens();
            document.getElementById(`level${levelNumber}-screen`).classList.add('active-screen');
            playSound(clickSound);
        }

        // å¼€å§‹å…³å¡
        function startLevel(levelNumber) {
            gameState.currentLevel = levelNumber;
            gameState.currentQuestion = 0;
            gameState.selectedOptions = [];
            loadQuestion(levelNumber, 0);
            showLevel(levelNumber);
            playSound(clickSound);
        }

        // éšè—æ‰€æœ‰å±å¹•
        function hideAllScreens() {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.classList.remove('active-screen');
            });
        }

        // åŠ è½½é—®é¢˜
        function loadQuestion(level, questionIndex) {
            const levelIndex = level - 1;
            const question = gameState.questions[levelIndex][questionIndex];
            
            // æ›´æ–°é—®é¢˜æ–‡æœ¬
            document.getElementById(`question${level}-text`).textContent = question.question;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((questionIndex + 1) / gameState.questions[levelIndex].length) * 100;
            document.getElementById(`level${level}-progress`).style.width = `${progress}%`;
            
            // ç”Ÿæˆé€‰é¡¹
            const optionsContainer = document.getElementById(`options${level}-container`);
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                optionElement.addEventListener('click', () => {
                    playSound(clickSound);
                    selectOption(level, index, question.type);
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // é‡ç½®åé¦ˆå’ŒæŒ‰é’®çŠ¶æ€
            document.getElementById(`feedback${level}`).style.display = 'none';
            document.getElementById(`check-answer${level}-btn`).style.display = 'inline-block';
            document.getElementById(`next-question${level}-btn`).style.display = 'none';
            document.getElementById(`hint${level}`).style.display = 'none';
            
            // é‡ç½®é€‰æ‹©çŠ¶æ€
            gameState.selectedOptions = [];
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(level, optionIndex, type) {
            const options = document.querySelectorAll(`#options${level}-container .option`);
            
            if (type === 'single') {
                // å•é€‰ï¼šæ¸…é™¤æ‰€æœ‰é€‰æ‹©ï¼Œé€‰æ‹©å½“å‰é¡¹
                options.forEach(option => {
                    option.classList.remove('selected');
                });
                options[optionIndex].classList.add('selected');
                gameState.selectedOptions = [optionIndex];
            } else {
                // å¤šé€‰ï¼šåˆ‡æ¢é€‰æ‹©çŠ¶æ€
                options[optionIndex].classList.toggle('selected');
                
                // æ›´æ–°å·²é€‰æ‹©çš„é€‰é¡¹
                gameState.selectedOptions = [];
                options.forEach((option, index) => {
                    if (option.classList.contains('selected')) {
                        gameState.selectedOptions.push(index);
                    }
                });
            }
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(level) {
            const levelIndex = level - 1;
            const questionIndex = gameState.currentQuestion;
            const question = gameState.questions[levelIndex][questionIndex];
            const feedback = document.getElementById(`feedback${level}`);
            const options = document.querySelectorAll(`#options${level}-container .option`);
            
            // æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†ç­”æ¡ˆ
            if (gameState.selectedOptions.length === 0) {
                feedback.textContent = "è¯·å…ˆé€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼";
                feedback.className = "feedback wrong";
                feedback.style.display = "block";
                playSound(wrongSound);
                return;
            }
            
            // æ£€æŸ¥ç­”æ¡ˆæ˜¯å¦æ­£ç¡®
            let isCorrect = true;
            
            // æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†æ‰€æœ‰æ­£ç¡®é€‰é¡¹ï¼Œå¹¶ä¸”æ²¡æœ‰é€‰æ‹©é”™è¯¯é€‰é¡¹
            if (question.correct.length !== gameState.selectedOptions.length) {
                isCorrect = false;
            } else {
                for (let i = 0; i < question.correct.length; i++) {
                    if (!gameState.selectedOptions.includes(question.correct[i])) {
                        isCorrect = false;
                        break;
                    }
                }
            }
            
            // æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ
            question.correct.forEach(correctIndex => {
                options[correctIndex].classList.add('correct');
            });
            
            // æ˜¾ç¤ºé”™è¯¯ç­”æ¡ˆ
            gameState.selectedOptions.forEach(selectedIndex => {
                if (!question.correct.includes(selectedIndex)) {
                    options[selectedIndex].classList.add('wrong');
                    isCorrect = false;
                }
            });
            
            // æ˜¾ç¤ºåé¦ˆ
            if (isCorrect) {
                feedback.textContent = "å›ç­”æ­£ç¡®ï¼å¤ªæ£’äº†ï¼";
                feedback.className = "feedback correct";
                gameState.scores[levelIndex] += 10;
                document.getElementById(`score${level}`).textContent = gameState.scores[levelIndex];
                playSound(correctSound);
            } else {
                feedback.textContent = "å›ç­”é”™è¯¯ï¼Œå†è¯•ä¸€æ¬¡ï¼";
                feedback.className = "feedback wrong";
                playSound(wrongSound);
            }
            
            feedback.style.display = "block";
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById(`check-answer${level}-btn`).style.display = 'none';
            document.getElementById(`next-question${level}-btn`).style.display = 'inline-block';
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion(level) {
            const levelIndex = level - 1;
            gameState.currentQuestion++;
            
            // æ£€æŸ¥æ˜¯å¦è¿˜æœ‰æ›´å¤šé—®é¢˜
            if (gameState.currentQuestion < gameState.questions[levelIndex].length) {
                loadQuestion(level, gameState.currentQuestion);
            } else {
                // æ£€æŸ¥æ˜¯å¦æ˜¯æœ€åä¸€å…³
                if (level < 4) {
                    // æ˜¾ç¤ºä¸‹ä¸€ä¸ªæ•™å­¦å…³å¡
                    showLesson(level + 1);
                } else {
                    // æ˜¾ç¤ºå®Œæˆå±å¹•
                    showCompletionScreen();
                }
            }
            
            playSound(clickSound);
        }

        // åˆ‡æ¢æç¤ºæ˜¾ç¤º
        function toggleHint(level) {
            const hint = document.getElementById(`hint${level}`);
            const hintBtn = document.getElementById(`show-hint${level}-btn`);
            
            if (hint.style.display === 'none' || hint.style.display === '') {
                hint.style.display = 'block';
                hintBtn.textContent = 'éšè—æç¤º';
            } else {
                hint.style.display = 'none';
                hintBtn.textContent = 'æ˜¾ç¤ºæç¤º';
            }
            
            playSound(clickSound);
        }

        // æ˜¾ç¤ºå®Œæˆå±å¹•
        function showCompletionScreen() {
            // è®¡ç®—æ€»åˆ†
            const totalScore = gameState.scores.reduce((sum, score) => sum + score, 0);
            document.getElementById('final-score').textContent = `ä½ çš„å¾—åˆ†: ${totalScore}/100`;
            
            hideAllScreens();
            document.getElementById('completion-screen').classList.add('active-screen');
            playSound(correctSound);
        }

        // é‡æ–°å¼€å§‹æ¸¸æˆ
        function restartGame() {
            // é‡ç½®æ¸¸æˆçŠ¶æ€
            gameState.currentLevel = 1;
            gameState.currentQuestion = 0;
            gameState.scores = [0, 0, 0, 0];
            gameState.selectedOptions = [];
            
            // é‡ç½®åˆ†æ•°æ˜¾ç¤º
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`score${i}`).textContent = '0';
            }
            
            // é‡æ–°åŠ è½½ç¬¬ä¸€é¢˜
            loadQuestion(1, 0);
            
            // æ˜¾ç¤ºå¼€å§‹å±å¹•
            showStartScreen();
            playSound(clickSound);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ¸¸æˆ
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>